services:
  service0:
    build:
      context: ./app
    networks:
      net:
        ipv4_address: 10.10.0.1
  vulnify0:
    build:
      context: ./vulnify
    networks:
      net:
        ipv4_address: 10.10.4.1
  service1:
    build:
      context: ./app
    networks:
      net:
        ipv4_address: 10.10.1.1
  vulnify1:
    build:
      context: ./vulnify
    networks:
      net:
        ipv4_address: 10.10.5.1
  service2:
    build:
      context: ./app
    networks:
      net:
        ipv4_address: 10.10.2.1
  vulnify2:
    build:
      context: ./vulnify
    networks:
      net:
        ipv4_address: 10.10.6.1
  service3:
    build:
      context: ./app
    networks:
      net:
        ipv4_address: 10.10.3.1
  vulnify3:
    build:
      context: ./vulnify
    networks:
      net:
        ipv4_address: 10.10.7.1

networks:
  net:
    ipam:
      driver: default
      config:
        - subnet: 10.10.0.0/16
          ip_range: 10.10.0.0/16
          gateway: 10.10.0.254
