#!../venv/bin/python3

from utils.exploiter_manager import exploit_manager

import sys

# ----------
import requests


@exploit_manager(
    server_ip = sys.argv[1],
    password = sys.argv[2],
    tick_time = int(sys.argv[3]),
    threads_num = int(sys.argv[4]),
    regex_flag = sys.argv[5]
)
def exploit(ip:str = "", port:int = 80):
    r = requests.get(f"http://{ip}:{port}/get-flag")
    return r.text


if __name__ == "__main__":

    port = 8081                 # Edit with port of the service to exploit
    exploit(port=port)
